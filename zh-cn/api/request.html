<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>请求（Request） | Slet</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://sletjs.com/zh-cn/api/request.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="zh-cn" href="https://sletjs.com/zh-cn/api/request.html">
    
      <link rel="alternative" hreflang="en" href="https://sletjs.com/api/request.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="Slet">
  <!-- Open Graph -->
  <meta name="description" content="The req object represents the HTTP request and has properties for the request query string, parameters, body, HTTP headers, and so on. In this documentation and by convention, the object is always ref">
<meta property="og:type" content="website">
<meta property="og:title" content="请求（Request）">
<meta property="og:url" content="https://sletjs.com/zh-cn/api/request.html">
<meta property="og:site_name" content="Slet">
<meta property="og:description" content="The req object represents the HTTP request and has properties for the request query string, parameters, body, HTTP headers, and so on. In this documentation and by convention, the object is always ref">
<meta property="og:updated_time" content="2016-12-26T17:11:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="请求（Request）">
<meta name="twitter:description" content="The req object represents the HTTP request and has properties for the request query string, parameters, body, HTTP headers, and so on. In this documentation and by convention, the object is always ref">
<meta name="twitter:site" content="sletjs">
<meta property="fb:admins" content="100000247608790">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-4910098-10', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/zh-cn/" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <a href="/zh-cn/docs/" class="main-nav-link">文档</a><a href="/zh-cn/api/" class="main-nav-link">API</a><a href="/news/" class="main-nav-link">新闻</a><a href="/plugins/" class="main-nav-link">插件</a><a href="/themes/" class="main-nav-link">主题</a>
      <a href="https://github.com/sletjs/slet" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></label>
      <select id="lang-select" data-canonical="api/request.html">
        
          <option value="zh-cn" selected>简体中文</option>
        
          <option value="en">English</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">请求（Request）</h1>
                <a href="https://github.com/hexojs/site/edit/master/source/zh-cn/api/request.md" class="article-edit-link" title="改进本文"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>The req object represents the HTTP request and has properties for the request query string, parameters, body, HTTP headers, and so on. In this documentation and by convention, the object is always referred to as req (and the HTTP response is res) but its actual name is determined by the parameters to the callback function in which you’re working.</p>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// slet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyController</span> <span class="keyword">extends</span> <span class="title">BaseController</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> (ctx, next) &#123;</div><div class="line">    <span class="keyword">super</span>(ctx, next)</div><div class="line">    </div><div class="line">    <span class="keyword">this</span>.path = <span class="string">'/user/:id'</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  get (req, res) &#123;</div><div class="line">    res.send(<span class="string">'user '</span> + req.params.id)</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// express</span></div><div class="line">app.get(<span class="string">'/user/:id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'user '</span> + req.params.id);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>But you could just as well have:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// slet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyController</span> <span class="keyword">extends</span> <span class="title">BaseController</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> (ctx, next) &#123;</div><div class="line">    <span class="keyword">super</span>(ctx, next)</div><div class="line">    </div><div class="line">    <span class="keyword">this</span>.path = <span class="string">'/user/:id'</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  get (request, response) &#123;</div><div class="line">    response.send(<span class="string">'user '</span> + request.params.id)</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// express</span></div><div class="line">app.get(<span class="string">'/user/:id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">  response.send(<span class="string">'user '</span> + request.params.id);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>The req object is an enhanced version of Node’s own request object and supports all <a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage" target="_blank" rel="external">built-in fields and methods</a>.</p>
<h1 id="Properties" class="article-heading"><a href="#Properties" class="headerlink" title="Properties"></a>Properties<a class="article-anchor" href="#Properties" aria-hidden="true"></a></h1><p>未实现</p>
<ul>
<li>baseUrl</li>
</ul>
<h2 id="req-baseUrl" class="article-heading"><a href="#req-baseUrl" class="headerlink" title="req.baseUrl"></a>req.baseUrl<a class="article-anchor" href="#req-baseUrl" aria-hidden="true"></a></h2><p>无此属性，可使用req.url或originUrl，稍后看看是否有必要加</p>
<h2 id="req-body" class="article-heading"><a href="#req-body" class="headerlink" title="req.body"></a>req.body<a class="article-anchor" href="#req-body" aria-hidden="true"></a></h2><p>Contains key-value pairs of data submitted in the request body. By default, it is undefined, and is populated when you use in post method.</p>
<p>The following example shows how to use post method to populate req.body.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// slet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyController</span> <span class="keyword">extends</span> <span class="title">BaseController</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> (ctx, next) &#123;</div><div class="line">    <span class="keyword">super</span>(ctx, next)</div><div class="line">    </div><div class="line">    <span class="keyword">this</span>.path = <span class="string">'/profile'</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  post (req, res) &#123;</div><div class="line">    <span class="built_in">console</span>.log(req.body);</div><div class="line">    res.body = req.body</div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// express</span></div><div class="line">app.post(<span class="string">'/profile'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(req.body);</div><div class="line">  res.json(req.body);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="req-cookies" class="article-heading"><a href="#req-cookies" class="headerlink" title="req.cookies"></a>req.cookies<a class="article-anchor" href="#req-cookies" aria-hidden="true"></a></h2><p>koa uses the <a href="https://github.com/jed/cookies" target="_blank" rel="external">cookies</a> module where options are simply passed.</p>
<blockquote>
<p>req.cookies.get(name, [options])</p>
</blockquote>
<p>Get cookie name with options:</p>
<ul>
<li>signed the cookie requested should be signed</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Cookie: name=tj</span></div><div class="line">req.cookies.name</div><div class="line"><span class="comment">// =&gt; "tj"</span></div></pre></td></tr></table></figure>
<blockquote>
<p>ctx.cookies.set(name, value, [options])</p>
</blockquote>
<p>Set cookie name to value with options:</p>
<ul>
<li>maxAge a number representing the milliseconds from Date.now() for expiry</li>
<li>signed sign the cookie value</li>
<li>expires a Date for cookie expiration</li>
<li>path cookie path, /‘ by default</li>
<li>domain cookie domain</li>
<li>secure secure cookie</li>
<li>httpOnly server-accessible cookie, true by default</li>
<li>overwrite a boolean indicating whether to overwrite previously set cookies of the same name (false by default). If this is true, all cookies set during the same request with the same name (regardless of path or domain) are filtered out of the Set-Cookie header when setting this cookie</li>
</ul>
<h2 id="req-fresh" class="article-heading"><a href="#req-fresh" class="headerlink" title="req.fresh"></a>req.fresh<a class="article-anchor" href="#req-fresh" aria-hidden="true"></a></h2><p>Indicates whether the request is “fresh.” It is the opposite of req.stale.</p>
<p>It is true if the cache-control request header doesn’t have a no-cache directive and any of the following are true:</p>
<ul>
<li>The if-modified-since request header is specified and last-modified request header is equal to or earlier than the modified response header.</li>
<li>The if-none-match request header is *.</li>
<li>The if-none-match request header, after being parsed into its directives, does not match the etag response header.</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.fresh</div><div class="line"><span class="comment">// =&gt; true</span></div></pre></td></tr></table></figure>
<p>For more information, issues, or concerns, see fresh.</p>
<h2 id="req-hostname" class="article-heading"><a href="#req-hostname" class="headerlink" title="req.hostname"></a>req.hostname<a class="article-anchor" href="#req-hostname" aria-hidden="true"></a></h2><p>Contains the hostname derived from the Host HTTP header.</p>
<p>When the trust proxy setting does not evaluate to false, this property will instead have the value of the X-Forwarded-Host header field. This header can be set by the client or by the proxy.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Host: "example.com:3000"</span></div><div class="line">req.hostname</div><div class="line"><span class="comment">// =&gt; "example.com"</span></div></pre></td></tr></table></figure>
<h2 id="req-ip" class="article-heading"><a href="#req-ip" class="headerlink" title="req.ip"></a>req.ip<a class="article-anchor" href="#req-ip" aria-hidden="true"></a></h2><p>Contains the remote IP address of the request.</p>
<p>When the trust proxy setting does not evaluate to false, the value of this property is derived from the left-most entry in the X-Forwarded-For header. This header can be set by the client or by the proxy.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.ip</div><div class="line"><span class="comment">// =&gt; "127.0.0.1"</span></div></pre></td></tr></table></figure>
<h2 id="req-ips" class="article-heading"><a href="#req-ips" class="headerlink" title="req.ips"></a>req.ips<a class="article-anchor" href="#req-ips" aria-hidden="true"></a></h2><p>When the trust proxy setting does not evaluate to false, this property contains an array of IP addresses specified in the X-Forwarded-For request header. Otherwise, it contains an empty array. This header can be set by the client or by the proxy.</p>
<p>For example, if X-Forwarded-For is client, proxy1, proxy2, req.ips would be [“client”, “proxy1”, “proxy2”], where proxy2 is the furthest downstream.</p>
<h2 id="req-method" class="article-heading"><a href="#req-method" class="headerlink" title="req.method"></a>req.method<a class="article-anchor" href="#req-method" aria-hidden="true"></a></h2><p>Contains a string corresponding to the HTTP method of the request: GET, POST, PUT, and so on.</p>
<h2 id="req-originalUrl" class="article-heading"><a href="#req-originalUrl" class="headerlink" title="req.originalUrl"></a>req.originalUrl<a class="article-anchor" href="#req-originalUrl" aria-hidden="true"></a></h2><blockquote>
<p>req.url is not a native Express property, it is inherited from Node’s http module.</p>
</blockquote>
<p>This property is much like req.url; however, it retains the original request URL, allowing you to rewrite req.url freely for internal routing purposes. For example, the “mounting” feature of app.use() will rewrite req.url to strip the mount point.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// GET /search?q=something</span></div><div class="line">req.originalUrl</div><div class="line"><span class="comment">// =&gt; "/search?q=something"</span></div></pre></td></tr></table></figure>
<p>In a middleware function, req.originalUrl is a combination of req.baseUrl and req.path, as shown in the following example.</p>
<p>此例子需要确认</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.use(<span class="string">'/admin'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;  <span class="comment">// GET 'http://www.example.com/admin/new'</span></div><div class="line">  <span class="built_in">console</span>.log(req.originalUrl); <span class="comment">// '/admin/new'</span></div><div class="line">  <span class="built_in">console</span>.log(req.baseUrl); <span class="comment">// '/admin'</span></div><div class="line">  <span class="built_in">console</span>.log(req.path); <span class="comment">// '/new'</span></div><div class="line">  next();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="req-params" class="article-heading"><a href="#req-params" class="headerlink" title="req.params"></a>req.params<a class="article-anchor" href="#req-params" aria-hidden="true"></a></h2><p>This property is an object containing properties mapped to the named route “parameters”. For example, if you have the route /user/:name, then the “name” property is available as req.params.name. This object defaults to {}.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// GET /user/tj</span></div><div class="line">req.params.name</div><div class="line"><span class="comment">// =&gt; "tj"</span></div></pre></td></tr></table></figure>
<p>When you use a regular expression for the route definition, capture groups are provided in the array using req.params[n], where n is the nth capture group. This rule is applied to unnamed wild card matches with string routes such as /file/*:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// GET /file/javascripts/jquery.js</span></div><div class="line">req.params[<span class="number">0</span>]</div><div class="line"><span class="comment">// =&gt; "javascripts/jquery.js"</span></div></pre></td></tr></table></figure>
<h2 id="req-path" class="article-heading"><a href="#req-path" class="headerlink" title="req.path"></a>req.path<a class="article-anchor" href="#req-path" aria-hidden="true"></a></h2><p>Contains the path part of the request URL.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// example.com/users?sort=desc</span></div><div class="line">req.path</div><div class="line"><span class="comment">// =&gt; "/users"</span></div></pre></td></tr></table></figure>
<h2 id="req-protocol" class="article-heading"><a href="#req-protocol" class="headerlink" title="req.protocol"></a>req.protocol<a class="article-anchor" href="#req-protocol" aria-hidden="true"></a></h2><p>Contains the request protocol string: either http or (for TLS requests) https.</p>
<p>When the trust proxy setting does not evaluate to false, this property will use the value of the X-Forwarded-Proto header field if present. This header can be set by the client or by the proxy.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.protocol</div><div class="line"><span class="comment">// =&gt; "http"</span></div></pre></td></tr></table></figure>
<h2 id="req-query" class="article-heading"><a href="#req-query" class="headerlink" title="req.query"></a>req.query<a class="article-anchor" href="#req-query" aria-hidden="true"></a></h2><p>This property is an object containing a property for each query string parameter in the route. If there is no query string, it is the empty object, {}.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// GET /search?q=tobi+ferret</span></div><div class="line">req.query.q</div><div class="line"><span class="comment">// =&gt; "tobi ferret"</span></div><div class="line"></div><div class="line"><span class="comment">// GET /shoes?order=desc&amp;shoe[color]=blue&amp;shoe[type]=converse</span></div><div class="line">req.query.order</div><div class="line"><span class="comment">// =&gt; "desc"</span></div><div class="line"></div><div class="line">req.query.shoe.color</div><div class="line"><span class="comment">// =&gt; "blue"</span></div><div class="line"></div><div class="line">req.query.shoe.type</div><div class="line"><span class="comment">// =&gt; "converse"</span></div></pre></td></tr></table></figure>
<h2 id="req-route" class="article-heading"><a href="#req-route" class="headerlink" title="req.route"></a>req.route<a class="article-anchor" href="#req-route" aria-hidden="true"></a></h2><p>Contains the currently-matched route, a string. For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// slet</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyController</span> <span class="keyword">extends</span> <span class="title">BaseController</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> (ctx, next) &#123;</div><div class="line">    <span class="keyword">super</span>(ctx, next)</div><div class="line">    </div><div class="line">    <span class="keyword">this</span>.path = <span class="string">'/user/:id'</span></div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  get (req, res) &#123;</div><div class="line">    <span class="built_in">console</span>.log(req.route)</div><div class="line">    <span class="keyword">return</span> <span class="string">'GET'</span></div><div class="line">  &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// express</span></div><div class="line">app.get(<span class="string">'/user/:id?'</span>, <span class="function"><span class="keyword">function</span> <span class="title">userIdHandler</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(req.route);</div><div class="line">  res.send(<span class="string">'GET'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这个和express里的req.route类似，但返回的内容不一样。</p>
<h2 id="req-secure" class="article-heading"><a href="#req-secure" class="headerlink" title="req.secure"></a>req.secure<a class="article-anchor" href="#req-secure" aria-hidden="true"></a></h2><p>A Boolean property that is true if a TLS connection is established. Equivalent to:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="string">'https'</span> == req.protocol;</div></pre></td></tr></table></figure>
<h2 id="req-signedCookies" class="article-heading"><a href="#req-signedCookies" class="headerlink" title="req.signedCookies"></a>req.signedCookies<a class="article-anchor" href="#req-signedCookies" aria-hidden="true"></a></h2><p>未实现此方法，原因是通过req.cookies可以非常简单的实现</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.cookies.set( <span class="string">"signed"</span>, <span class="string">"bar"</span>, &#123; <span class="attr">signed</span>: <span class="literal">true</span> &#125; )</div></pre></td></tr></table></figure>
<p>更多用法，见<a href="https://github.com/pillarjs/cookies" target="_blank" rel="external">https://github.com/pillarjs/cookies</a></p>
<h2 id="req-stale" class="article-heading"><a href="#req-stale" class="headerlink" title="req.stale"></a>req.stale<a class="article-anchor" href="#req-stale" aria-hidden="true"></a></h2><p>Indicates whether the request is “stale,” and is the opposite of req.fresh. For more information, see req.fresh.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.stale</div><div class="line"><span class="comment">// =&gt; true</span></div></pre></td></tr></table></figure>
<h2 id="req-subdomains" class="article-heading"><a href="#req-subdomains" class="headerlink" title="req.subdomains"></a>req.subdomains<a class="article-anchor" href="#req-subdomains" aria-hidden="true"></a></h2><p>An array of subdomains in the domain name of the request.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Host: "tobi.ferrets.example.com"</span></div><div class="line">req.subdomains</div><div class="line"><span class="comment">// =&gt; ["ferrets", "tobi"]</span></div></pre></td></tr></table></figure>
<p>The application property subdomain offset, which defaults to 2, is used for determining the beginning of the subdomain segments. To change this behavior, change its value using app.set.</p>
<h2 id="req-xhr" class="article-heading"><a href="#req-xhr" class="headerlink" title="req.xhr"></a>req.xhr<a class="article-anchor" href="#req-xhr" aria-hidden="true"></a></h2><p>新增，原来koa的request上并无</p>
<p>A Boolean property that is true if the request’s X-Requested-With header field is “XMLHttpRequest”, indicating that the request was issued by a client library such as jQuery.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.xhr</div><div class="line"><span class="comment">// =&gt; true</span></div></pre></td></tr></table></figure>
<h1 id="Methods" class="article-heading"><a href="#Methods" class="headerlink" title="Methods"></a>Methods<a class="article-anchor" href="#Methods" aria-hidden="true"></a></h1><p>目前express的req方法8个，都已经支持了</p>
<p>新增</p>
<ul>
<li>req.throw &amp;&amp; res.throw （从koa上移植过来的）</li>
</ul>
<h2 id="req-accepts-types" class="article-heading"><a href="#req-accepts-types" class="headerlink" title="req.accepts(types)"></a>req.accepts(types)<a class="article-anchor" href="#req-accepts-types" aria-hidden="true"></a></h2><p>Checks if the specified content types are acceptable, based on the request’s Accept HTTP header field. The method returns the best match, or if none of the specified content types is acceptable, returns false (in which case, the application should respond with 406 “Not Acceptable”).</p>
<p>The type value may be a single MIME type string (such as “application/json”), an extension name such as “json”, a comma-delimited list, or an array. For a list or array, the method returns the best match (if any).</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept: text/html</span></div><div class="line">req.accepts(<span class="string">'html'</span>);</div><div class="line"><span class="comment">// =&gt; "html"</span></div><div class="line"></div><div class="line"><span class="comment">// Accept: text/*, application/json</span></div><div class="line">req.accepts(<span class="string">'html'</span>);</div><div class="line"><span class="comment">// =&gt; "html"</span></div><div class="line">req.accepts(<span class="string">'text/html'</span>);</div><div class="line"><span class="comment">// =&gt; "text/html"</span></div><div class="line">req.accepts([<span class="string">'json'</span>, <span class="string">'text'</span>]);</div><div class="line"><span class="comment">// =&gt; "json"</span></div><div class="line">req.accepts(<span class="string">'application/json'</span>);</div><div class="line"><span class="comment">// =&gt; "application/json"</span></div><div class="line"></div><div class="line"><span class="comment">// Accept: text/*, application/json</span></div><div class="line">req.accepts(<span class="string">'image/png'</span>);</div><div class="line">req.accepts(<span class="string">'png'</span>);</div><div class="line"><span class="comment">// =&gt; undefined</span></div><div class="line"></div><div class="line"><span class="comment">// Accept: text/*;q=.5, application/json</span></div><div class="line">req.accepts([<span class="string">'html'</span>, <span class="string">'json'</span>]);</div><div class="line"><span class="comment">// =&gt; "json"</span></div></pre></td></tr></table></figure>
<p>You may call this.accepts() as many times as you like, or use a switch:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">switch</span> (req.accepts(<span class="string">'json'</span>, <span class="string">'html'</span>, <span class="string">'text'</span>)) &#123;</div><div class="line">  <span class="keyword">case</span> <span class="string">'json'</span>: <span class="keyword">break</span>;</div><div class="line">  <span class="keyword">case</span> <span class="string">'html'</span>: <span class="keyword">break</span>;</div><div class="line">  <span class="keyword">case</span> <span class="string">'text'</span>: <span class="keyword">break</span>;</div><div class="line">  <span class="keyword">default</span>: req.throw(<span class="number">406</span>, <span class="string">'json, html, or text only'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>For more information, or if you have issues or concerns, see <a href="https://github.com/expressjs/accepts?_ga=1.265802703.1312427988.1477612421" target="_blank" rel="external">accepts</a>.</p>
<h2 id="request-acceptsEncodings-encodings" class="article-heading"><a href="#request-acceptsEncodings-encodings" class="headerlink" title="request.acceptsEncodings(encodings)"></a>request.acceptsEncodings(encodings)<a class="article-anchor" href="#request-acceptsEncodings-encodings" aria-hidden="true"></a></h2><p>Check if encodings are acceptable, returning the best match when true, otherwise false. Note that you should include identity as one of the encodings!</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept-Encoding: gzip</span></div><div class="line">req.acceptsEncodings(<span class="string">'gzip'</span>, <span class="string">'deflate'</span>, <span class="string">'identity'</span>);</div><div class="line"><span class="comment">// =&gt; "gzip"</span></div><div class="line"></div><div class="line">req.acceptsEncodings([<span class="string">'gzip'</span>, <span class="string">'deflate'</span>, <span class="string">'identity'</span>]);</div><div class="line"><span class="comment">// =&gt; "gzip"</span></div></pre></td></tr></table></figure>
<p>When no arguments are given all accepted encodings are returned as an array:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept-Encoding: gzip, deflate</span></div><div class="line">req.acceptsEncodings();</div><div class="line"><span class="comment">// =&gt; ["gzip", "deflate", "identity"]</span></div></pre></td></tr></table></figure>
<p>Note that the identity encoding (which means no encoding) could be unacceptable if the client explicitly sends identity;q=0. Although this is an edge case, you should still handle the case where this method returns false.</p>
<h2 id="request-acceptsCharset-charsets" class="article-heading"><a href="#request-acceptsCharset-charsets" class="headerlink" title="request.acceptsCharset(charsets)"></a>request.acceptsCharset(charsets)<a class="article-anchor" href="#request-acceptsCharset-charsets" aria-hidden="true"></a></h2><p>新增，兼容expressapi,用法同acceptsCharsets</p>
<h2 id="request-acceptsCharsets-charsets" class="article-heading"><a href="#request-acceptsCharsets-charsets" class="headerlink" title="request.acceptsCharsets(charsets)"></a>request.acceptsCharsets(charsets)<a class="article-anchor" href="#request-acceptsCharsets-charsets" aria-hidden="true"></a></h2><p>Check if charsets are acceptable, returning the best match when true, otherwise false.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5</span></div><div class="line">req.acceptsCharsets(<span class="string">'utf-8'</span>, <span class="string">'utf-7'</span>);</div><div class="line"><span class="comment">// =&gt; "utf-8"</span></div><div class="line"></div><div class="line">req.acceptsCharsets([<span class="string">'utf-7'</span>, <span class="string">'utf-8'</span>]);</div><div class="line"><span class="comment">// =&gt; "utf-8"</span></div><div class="line"><span class="string">``</span><span class="string">`js</span></div><div class="line"></div><div class="line">When no arguments are given all accepted charsets are returned as an array:</div><div class="line"></div><div class="line">`<span class="string">``</span>js</div><div class="line"><span class="comment">// Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5</span></div><div class="line">req.acceptsCharsets();</div><div class="line"><span class="comment">// =&gt; ["utf-8", "utf-7", "iso-8859-1"]</span></div></pre></td></tr></table></figure>
<h2 id="request-acceptsLanguages-langs" class="article-heading"><a href="#request-acceptsLanguages-langs" class="headerlink" title="request.acceptsLanguages(langs)"></a>request.acceptsLanguages(langs)<a class="article-anchor" href="#request-acceptsLanguages-langs" aria-hidden="true"></a></h2><p>Check if langs are acceptable, returning the best match when true, otherwise false.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept-Language: en;q=0.8, es, pt</span></div><div class="line">req.acceptsLanguages(<span class="string">'es'</span>, <span class="string">'en'</span>);</div><div class="line"><span class="comment">// =&gt; "es"</span></div><div class="line"></div><div class="line">req.acceptsLanguages([<span class="string">'en'</span>, <span class="string">'es'</span>]);</div><div class="line"><span class="comment">// =&gt; "es"</span></div></pre></td></tr></table></figure>
<p>When no arguments are given all accepted languages are returned as an array:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Accept-Language: en;q=0.8, es, pt</span></div><div class="line">req.acceptsLanguages();</div><div class="line"><span class="comment">// =&gt; ["es", "pt", "en"]</span></div></pre></td></tr></table></figure>
<h2 id="req-get-field" class="article-heading"><a href="#req-get-field" class="headerlink" title="req.get(field)"></a>req.get(field)<a class="article-anchor" href="#req-get-field" aria-hidden="true"></a></h2><p>Returns the specified HTTP request header field (case-insensitive match). The Referrer and Referer fields are interchangeable.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.get(<span class="string">'Content-Type'</span>);</div><div class="line"><span class="comment">// =&gt; "text/plain"</span></div><div class="line"></div><div class="line">req.get(<span class="string">'content-type'</span>);</div><div class="line"><span class="comment">// =&gt; "text/plain"</span></div><div class="line"></div><div class="line">req.get(<span class="string">'Something'</span>);</div><div class="line"><span class="comment">// =&gt; undefined</span></div></pre></td></tr></table></figure>
<p>Aliased as req.header(field).</p>
<h2 id="req-is-type" class="article-heading"><a href="#req-is-type" class="headerlink" title="req.is(type)"></a>req.is(type)<a class="article-anchor" href="#req-is-type" aria-hidden="true"></a></h2><p>Returns true if the incoming request’s “Content-Type” HTTP header field matches the MIME type specified by the type parameter. Returns false otherwise.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// With Content-Type: text/html; charset=utf-8</span></div><div class="line">req.is(<span class="string">'html'</span>);</div><div class="line">req.is(<span class="string">'text/html'</span>);</div><div class="line">req.is(<span class="string">'text/*'</span>);</div><div class="line"><span class="comment">// =&gt; true</span></div><div class="line"></div><div class="line"><span class="comment">// When Content-Type is application/json</span></div><div class="line">req.is(<span class="string">'json'</span>);</div><div class="line">req.is(<span class="string">'application/json'</span>);</div><div class="line">req.is(<span class="string">'application/*'</span>);</div><div class="line"><span class="comment">// =&gt; true</span></div><div class="line"></div><div class="line">req.is(<span class="string">'html'</span>);</div><div class="line"><span class="comment">// =&gt; false</span></div></pre></td></tr></table></figure>
<p>For more information, or if you have issues or concerns, see <a href="https://github.com/expressjs/type-is?_ga=1.36035168.1312427988.1477612421" target="_blank" rel="external">type-is</a>.</p>
<h2 id="req-param-name-defaultValue" class="article-heading"><a href="#req-param-name-defaultValue" class="headerlink" title="req.param(name [, defaultValue])"></a>req.param(name [, defaultValue])<a class="article-anchor" href="#req-param-name-defaultValue" aria-hidden="true"></a></h2><p>Deprecated. Use either req.params, req.body or req.query, as applicable.</p>
<p>Returns the value of param name when present.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ?name=tobi</span></div><div class="line">req.param(<span class="string">'name'</span>)</div><div class="line"><span class="comment">// =&gt; "tobi"</span></div><div class="line"></div><div class="line"><span class="comment">// POST name=tobi</span></div><div class="line">req.param(<span class="string">'name'</span>)</div><div class="line"><span class="comment">// =&gt; "tobi"</span></div><div class="line"></div><div class="line"><span class="comment">// /user/tobi for /user/:name</span></div><div class="line">req.param(<span class="string">'name'</span>)</div><div class="line"><span class="comment">// =&gt; "tobi"</span></div></pre></td></tr></table></figure>
<p>Lookup is performed in the following order:</p>
<ul>
<li>req.params</li>
<li>req.body</li>
<li>req.query</li>
</ul>
<p>Optionally, you can specify defaultValue to set a default value if the parameter is not found in any of the request objects.</p>
<h2 id="req-range-size-options" class="article-heading"><a href="#req-range-size-options" class="headerlink" title="req.range(size[, options])"></a>req.range(size[, options])<a class="article-anchor" href="#req-range-size-options" aria-hidden="true"></a></h2><p>新增，Koa中无此法</p>
<p>Range header parser.</p>
<p>The size parameter is the maximum size of the resource.</p>
<p>The options parameter is an object that can have the following properties.</p>
<p>An array of ranges will be returned or negative numbers indicating an error parsing.</p>
<ul>
<li>-2 signals a malformed header string</li>
<li>-1 signals an unsatisfiable range</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// parse header from request</span></div><div class="line"><span class="keyword">var</span> range = req.range(<span class="number">1000</span>)</div><div class="line"></div><div class="line"><span class="comment">// the type of the range</span></div><div class="line"><span class="keyword">if</span> (range.type === <span class="string">'bytes'</span>) &#123;</div><div class="line">  <span class="comment">// the ranges</span></div><div class="line">  range.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">r</span>) </span>&#123;</div><div class="line">    <span class="comment">// do something with r.start and r.end</span></div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="req-throw-msg-status-properties" class="article-heading"><a href="#req-throw-msg-status-properties" class="headerlink" title="req.throw([msg], [status], [properties])"></a>req.throw([msg], [status], [properties])<a class="article-anchor" href="#req-throw-msg-status-properties" aria-hidden="true"></a></h2><p>新增，不在express的req种</p>
<p>Helper method to throw an error with a .status property defaulting to 500 that will allow Koa to respond appropriately. The following combinations are allowed:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.throw(<span class="number">403</span>);</div><div class="line">req.throw(<span class="string">'name required'</span>, <span class="number">400</span>);</div><div class="line">req.throw(<span class="number">400</span>, <span class="string">'name required'</span>);</div><div class="line">req.throw(<span class="string">'something exploded'</span>);</div></pre></td></tr></table></figure>
<p>For example this.throw(‘name required’, 400) is equivalent to:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'name required'</span>);</div><div class="line">err.status = <span class="number">400</span>;</div><div class="line"><span class="keyword">throw</span> err;</div></pre></td></tr></table></figure>
<p>Note that these are user-level errors and are flagged with err.expose meaning the messages are appropriate for client responses, which is typically not the case for error messages since you do not want to leak failure details.</p>
<p>You may optionally pass a properties object which is merged into the error as-is, useful for decorating machine-friendly errors which are reported to the requester upstream.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.throw(<span class="number">401</span>, <span class="string">'access_denied'</span>, &#123; <span class="attr">user</span>: user &#125;);</div><div class="line">req.throw(<span class="string">'access_denied'</span>, &#123; <span class="attr">user</span>: user &#125;);</div></pre></td></tr></table></figure>
<p>koa uses <a href="https://github.com/jshttp/http-errors" target="_blank" rel="external">http-errors</a> to create errors.</p>
<h1 id="Extra" class="article-heading"><a href="#Extra" class="headerlink" title="Extra"></a>Extra<a class="article-anchor" href="#Extra" aria-hidden="true"></a></h1><p>koa中</p>
<h2 id="request-length" class="article-heading"><a href="#request-length" class="headerlink" title="request.length"></a>request.length<a class="article-anchor" href="#request-length" aria-hidden="true"></a></h2><p>Return request Content-Length as a number when present, or undefined.</p>
<h2 id="request-origin" class="article-heading"><a href="#request-origin" class="headerlink" title="request.origin"></a>request.origin<a class="article-anchor" href="#request-origin" aria-hidden="true"></a></h2><p>Get origin of URL, include protocol and host.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.origin</div><div class="line"><span class="comment">// =&gt; http://example.com</span></div></pre></td></tr></table></figure>
<h2 id="request-href" class="article-heading"><a href="#request-href" class="headerlink" title="request.href"></a>request.href<a class="article-anchor" href="#request-href" aria-hidden="true"></a></h2><p>Get full request URL, include protocol, host and url.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.href</div><div class="line"><span class="comment">// =&gt; http://example.com/foo/bar?q=1</span></div></pre></td></tr></table></figure>
<h2 id="request-querystring" class="article-heading"><a href="#request-querystring" class="headerlink" title="request.querystring"></a>request.querystring<a class="article-anchor" href="#request-querystring" aria-hidden="true"></a></h2><p>Get raw query string void of ?.</p>
<blockquote>
<p>req.query = req.querystring</p>
</blockquote>
<h2 id="request-search" class="article-heading"><a href="#request-search" class="headerlink" title="request.search"></a>request.search<a class="article-anchor" href="#request-search" aria-hidden="true"></a></h2><p>Get raw query string with the ?.</p>
<h2 id="request-host" class="article-heading"><a href="#request-host" class="headerlink" title="request.host"></a>request.host<a class="article-anchor" href="#request-host" aria-hidden="true"></a></h2><p>Get host (hostname:port) when present. Supports X-Forwarded-Host when app.proxy is true, otherwise Host is used.</p>
<h2 id="request-type" class="article-heading"><a href="#request-type" class="headerlink" title="request.type"></a>request.type<a class="article-anchor" href="#request-type" aria-hidden="true"></a></h2><p>Get request Content-Type void of parameters such as “charset”.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> ct = req.type;</div><div class="line"><span class="comment">// =&gt; "image/png"</span></div></pre></td></tr></table></figure>
<h2 id="request-charset" class="article-heading"><a href="#request-charset" class="headerlink" title="request.charset"></a>request.charset<a class="article-anchor" href="#request-charset" aria-hidden="true"></a></h2><p>Get request charset when present, or undefined:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">req.charset</div><div class="line"><span class="comment">// =&gt; "utf-8"</span></div></pre></td></tr></table></figure>
<h2 id="request-idempotent" class="article-heading"><a href="#request-idempotent" class="headerlink" title="request.idempotent"></a>request.idempotent<a class="article-anchor" href="#request-idempotent" aria-hidden="true"></a></h2><p>Check if the request is idempotent.</p>
<h2 id="request-socket" class="article-heading"><a href="#request-socket" class="headerlink" title="request.socket"></a>request.socket<a class="article-anchor" href="#request-socket" aria-hidden="true"></a></h2><p>Return the request socket.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2016-12-26T17:11:35.000Z" itemprop="dateModified">上次更新：2016-12-26</time>
                <a href="index.html" class="article-footer-prev" title="概述"><i class="fa fa-chevron-left"></i><span>上一页</span></a><a href="response.html" class="article-footer-next" title="响应"><span>下一页</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
<section id="comments">
  <div id="disqus_thread"></div>
</section>
<script>
  var disqus_shortname = 'sletjs';
  var disqus_url = 'https://sletjs.com/zh-cn/api/request.html';
  var disqus_title = "请求（Request）";
  var disqus_config = function(){
    this.language = 'zh';
  };
  (function(){
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">目录</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Properties"><span class="toc-text">Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#req-baseUrl"><span class="toc-text">req.baseUrl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-body"><span class="toc-text">req.body</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-cookies"><span class="toc-text">req.cookies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-fresh"><span class="toc-text">req.fresh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-hostname"><span class="toc-text">req.hostname</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-ip"><span class="toc-text">req.ip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-ips"><span class="toc-text">req.ips</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-method"><span class="toc-text">req.method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-originalUrl"><span class="toc-text">req.originalUrl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-params"><span class="toc-text">req.params</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-path"><span class="toc-text">req.path</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-protocol"><span class="toc-text">req.protocol</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-query"><span class="toc-text">req.query</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-route"><span class="toc-text">req.route</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-secure"><span class="toc-text">req.secure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-signedCookies"><span class="toc-text">req.signedCookies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-stale"><span class="toc-text">req.stale</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-subdomains"><span class="toc-text">req.subdomains</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-xhr"><span class="toc-text">req.xhr</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Methods"><span class="toc-text">Methods</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#req-accepts-types"><span class="toc-text">req.accepts(types)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-acceptsEncodings-encodings"><span class="toc-text">request.acceptsEncodings(encodings)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-acceptsCharset-charsets"><span class="toc-text">request.acceptsCharset(charsets)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-acceptsCharsets-charsets"><span class="toc-text">request.acceptsCharsets(charsets)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-acceptsLanguages-langs"><span class="toc-text">request.acceptsLanguages(langs)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-get-field"><span class="toc-text">req.get(field)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-is-type"><span class="toc-text">req.is(type)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-param-name-defaultValue"><span class="toc-text">req.param(name [, defaultValue])</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-range-size-options"><span class="toc-text">req.range(size[, options])</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#req-throw-msg-status-properties"><span class="toc-text">req.throw([msg], [status], [properties])</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Extra"><span class="toc-text">Extra</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#request-length"><span class="toc-text">request.length</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-origin"><span class="toc-text">request.origin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-href"><span class="toc-text">request.href</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-querystring"><span class="toc-text">request.querystring</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-search"><span class="toc-text">request.search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-host"><span class="toc-text">request.host</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-type"><span class="toc-text">request.type</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-charset"><span class="toc-text">request.charset</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-idempotent"><span class="toc-text">request.idempotent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#request-socket"><span class="toc-text">request.socket</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">回到顶部</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">核心</strong><a href="index.html" class="sidebar-link">概述</a><a href="request.html" class="sidebar-link current">请求</a><a href="response.html" class="sidebar-link">响应</a><a href="events.html" class="sidebar-link">事件</a><a href="locals.html" class="sidebar-link">本地变量</a><a href="router.html" class="sidebar-link">路由</a><a href="box.html" class="sidebar-link">盒(Box)</a><a href="rendering.html" class="sidebar-link">渲染</a><a href="posts.html" class="sidebar-link">文章</a><a href="scaffolds.html" class="sidebar-link">模版 (Scaffold)</a><a href="themes.html" class="sidebar-link">主题</a><a href="controller.html" class="sidebar-link">sidebar.api.controller</a><strong class="sidebar-title">扩展</strong><a href="console.html" class="sidebar-link">控制台 (Console)</a><a href="deployer.html" class="sidebar-link">部署器 (Deployer)</a><a href="filter.html" class="sidebar-link">过滤器 (Filter)</a><a href="generator.html" class="sidebar-link">生成器 (Generator)</a><a href="helper.html" class="sidebar-link">辅助函数 (Helper)</a><a href="migrator.html" class="sidebar-link">迁移器 (Migrator)</a><a href="processor.html" class="sidebar-link">处理器 (Processor)</a><a href="renderer.html" class="sidebar-link">渲染引擎 (Renderer)</a><a href="tag.html" class="sidebar-link">标签 (Tag)</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2016 <a href="https://cnodejs.org/user/i5ting" target="_blank">狼叔</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/sletjs" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/sletjs/slet" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/zh-cn/docs/" class="mobile-nav-link">文档</a><a href="/zh-cn/api/" class="mobile-nav-link">API</a><a href="/news/" class="mobile-nav-link">新闻</a><a href="/plugins/" class="mobile-nav-link">插件</a><a href="/themes/" class="mobile-nav-link">主题</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/sletjs/slet" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">核心</strong><a href="index.html" class="mobile-nav-link">概述</a><a href="request.html" class="mobile-nav-link current">请求</a><a href="response.html" class="mobile-nav-link">响应</a><a href="events.html" class="mobile-nav-link">事件</a><a href="locals.html" class="mobile-nav-link">本地变量</a><a href="router.html" class="mobile-nav-link">路由</a><a href="box.html" class="mobile-nav-link">盒(Box)</a><a href="rendering.html" class="mobile-nav-link">渲染</a><a href="posts.html" class="mobile-nav-link">文章</a><a href="scaffolds.html" class="mobile-nav-link">模版 (Scaffold)</a><a href="themes.html" class="mobile-nav-link">主题</a><a href="controller.html" class="mobile-nav-link">sidebar.api.controller</a><strong class="mobile-nav-title">扩展</strong><a href="console.html" class="mobile-nav-link">控制台 (Console)</a><a href="deployer.html" class="mobile-nav-link">部署器 (Deployer)</a><a href="filter.html" class="mobile-nav-link">过滤器 (Filter)</a><a href="generator.html" class="mobile-nav-link">生成器 (Generator)</a><a href="helper.html" class="mobile-nav-link">辅助函数 (Helper)</a><a href="migrator.html" class="mobile-nav-link">迁移器 (Migrator)</a><a href="processor.html" class="mobile-nav-link">处理器 (Processor)</a><a href="renderer.html" class="mobile-nav-link">渲染引擎 (Renderer)</a><a href="tag.html" class="mobile-nav-link">标签 (Tag)</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span>
    <select id="mobile-lang-select" data-canonical="api/request.html">
      
        <option value="zh-cn" selected>简体中文</option>
      
        <option value="en">English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>

<!-- Algolia -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript">
document.getElementById('search-input-wrap').classList.add('on');
docsearch({
  apiKey: 'cdea7d4e47d84f6145b77e7f68689f35',
  indexName: 'hexo_zh-cn',
  inputSelector: '#search-input'
});
</script>


</body>
</html>